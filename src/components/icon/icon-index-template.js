const path = require('path');

function indexTemplate(files) {
  const compoundExportEntries = [ ];

  const importEntries = files.map(file => {
    const componentName = path.basename(file, path.extname(file));
    compoundExportEntries.push(componentName);

    return `import { default as ${componentName} } from './${componentName}';`;
  });

  return (`// Automatically generated by @svgr, do not edit directly! See icon/icon-index-template
import '../styles.less';
import { IconListType } from '../interface';
${importEntries.join('\n')}

const Icons:any = {
  ${compoundExportEntries.join( ',\n  ' )}
};

const IconList: IconListType = [ '${ compoundExportEntries.join( "', '" ) }' ];

type IconNamesType = '${ compoundExportEntries.join( "' | '" )}';

export { Icons, IconList };
export type { IconNamesType };
`
);
}

module.exports = indexTemplate;